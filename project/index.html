<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--<link rel="stylesheet" href="css/jquery-mobile/jquery-mobile.css">-->
    <!-- grab jquery mobile from a cdn for now -->
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.css">
    <link rel="stylesheet" href="css/main.css">

    <!-- Person Details Page -->
    <script type="text/template" id="person-details-template">
      <div data-role="header" data-position="fixed">
        <a href="#" data-role="none" id="back">
          <img src="images/back.png" class="back-button-icon" />
        </a>
        <h1>Details</h1>
      </div>

      <div role="main" class="ui-content height-100vh">
        <% if (content === 'undefined') { %>
          <div class="card">
            <h3 class="warning center">Something went terribly wrong!</h3>
            <p>We are unable to get the data for you at the moment.</p>
            <div class="center">
              <img src="images/broken.png" />
            </div>
          </div>
        <% } else {
          print(content);
        } %>
      </div>
    </script>
    <!-- /Person Details Page -->

    <!-- Person Details Temlate -->
    <script type="text/template" id="show-person-details-template">
      <div class="card">
        <div class="ui-grid-a">
          <div class="ui-block-a">
            <h2><%= name %></h2>
            <% if (birthday != null && birthday != '') { %>
              <p><b>Date of birth:</b></p>
              <p><%= birthday %></p>
            <% } %>
          </div>
          <div class="ui-block-b">
            <% if (profile_image != null) { %>
              <img src="http://image.tmdb.org/t/p/w500<%= profile_image %>" class="actor_img" />
            <% } else { %>
              <img src="images/actor-alt.png" class="actor_img" /> <%
            }%>
          </div>
        </div>
        <% if (biography != '' && biography != null) { %>
          <p><b>Biography:</b></p> <%
          if (biography.length > 600) { %>
            <p><%= biography.substring(0, 600) %>...</p> <%
          } else { %>
            <p><%= biography %></p> <%
          }
        } %>

        <%
          if (movie_credits.cast.length > 0) { %>
            <div class="center">
            <p><strong>Movies:</strong></p> <%
            if (movie_credits.cast.length > 12) {
              var movies = [];
              for (var i = 0; i < 12; i++) {
                movies[i] = movie_credits.cast[i];
              }
              _.each(movies, function(movie) {
                if (movie.poster_path != null) { %>
                  <a href="#movie/<%= movie.id %>"><img src="http://image.tmdb.org/t/p/w500<%=movie.poster_path%>"
                    class="similar_poster"></img></a> <%
                }
              });
            } else {
              _.each(movie_credits.cast, function(movie) {
                if (movie.poster_path != null) { %>
                  <a href="#movie/<%= movie.id %>"><img src="http://image.tmdb.org/t/p/w500<%=movie.poster_path%>"
                    class="similar_poster"></img></a> <%
                }
              });
            } %>
          </div> <%
          }
        %>
      </div>
    </script>
    <!-- /Person Details Template -->


    <script data-main="js/main" src="js/libs/require/require.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?v=3&key=AIzaSyAAjjxx_UnXEcBOQF2ngFZLq9N5GT_Cf_Q&sensor=false&libraries=places"></script>
  </head>
  <body>
  </body>
</html>
