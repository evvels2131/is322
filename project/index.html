<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--<link rel="stylesheet" href="css/jquery-mobile/jquery-mobile.css">-->
    <!-- grab jquery mobile from a cdn for now -->
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.css">
    <link rel="stylesheet" href="css/main.css">

    <!-- Home Template -->
    <script type="text/template" id="home">
      <div data-role="header" data-position="fixed">
        <h1>Movies</h1>
      </div>

      <div role="main" class="ui-content">
        <div data-role="controlgroup" data-type="horizontal" style="text-align: center">
          <a href="#now_playing" class="ui-btn ui-btn-active" style="font-size: 90%">Now Playing</a>
          <a href="#top_rated" class="ui-btn" style="font-size: 90%">Top Rated</a>
          <a href="#upcoming" class="ui-btn" style="font-size: 90%">Upcoming</a>
        </div>
        <% if (content === 'undefined') {
          print('<br /><h2>Oops! We are embarressed!</h2>');
          print('<h3>We could not retrieve movies for you at the moment.</h3>');
        } else {
          print(content);
        } %>
        <!-- Content goes here -->
      </div>

      <div data-role="footer" data-position="fixed" style="text-align: center">
        <div data-role="controlgroup" data-type="horizontal">
          <a href="#" class="ui-btn ui-btn-active">Movies</a>
          <a href="#search" class="ui-btn">Search</a>
          <a href="#theaters" class="ui-btn">Theaters</a>
          <a href="#discover" class="ui-btn">Discover</a>
        </div>
      </div>
    </script>
    <!-- /Home Template -->

    <!-- Top Rated Movies Template -->
    <script type="text/template" id="movies-top-rated">
      <div data-role="header" data-position="fixed">
        <h1>Movies</h1>
      </div>

      <div role="main" class="ui-content">
        <div data-role="controlgroup" data-type="horizontal" class="center">
          <a href="#now_playing" class="ui-btn cat-btn">Now Playing</a>
          <a href="#top_rated" class="ui-btn ui-btn-active cat-btn">Top Rated</a>
          <a href="#upcoming" class="ui-btn cat-btn">Upcoming</a>
        </div>
        <% if (content === 'undefined') {
          print('<h2>Oops! We are embarressed!</h2>');
          print('<h3>We could not retrieve movies for you at the moment.</h3>');
        } else {
          print(content);
        } %>
      </div>

      <div data-role="footer" data-position="fixed" class="center">
        <div data-role="controlgroup" data-type="horizontal">
          <a href="#" class="ui-btn ui-btn-active">Movies</a>
          <a href="#search" class="ui-btn">Search</a>
          <a href="#theaters" class="ui-btn">Theaters</a>
          <a href="#discover" class="ui-btn">Discover</a>
        </div>
      </div>
    </script>
    <!-- /Top Rated Movies Template -->

    <!-- Upcoming Movies Template -->
    <script type="text/template" id="movies-upcoming">
      <div data-role="header" data-position="fixed">
        <h1>Movies</h1>
      </div>

      <div role="main" class="ui-content">
        <div data-role="controlgroup" data-type="horizontal" class="center">
          <a href="#now_playing" class="ui-btn cat-btn">Now Playing</a>
          <a href="#top_rated" class="ui-btn cat-btn">Top Rated</a>
          <a href="#upcoming" class="ui-btn ui-btn-active cat-btn">Upcoming</a>
        </div>
        <% if (content === 'undefined') {
          print('<h2>Oops! We are embarressed!</h2>');
          print('<h3>We could not retrieve movies for you at the moment.</h3>');
        } else {
          print(content);
        } %>
      </div>

      <div data-role="footer" data-position="fixed" class="center">
        <div data-role="controlgroup" data-type="horizontal">
          <a href="#" class="ui-btn ui-btn-active">Movies</a>
          <a href="#search" class="ui-btn">Search</a>
          <a href="#theaters" class="ui-btn">Theaters</a>
          <a href="#discover" class="ui-btn">Discover</a>
        </div>
      </div>
    </script>
    <!-- /Upcoming Movies Template -->

    <!-- Search Movies Template -->
    <script type="text/template" id="search">
      <div data-role="header" data-position="fixed">
        <h1>Search</h1>
      </div>

      <div role="main" class="ui-content">
        <input type="search" id="search-movie-input" placeholder="Star Wars..." autocomplete="off">
        <input type="button" value="Search" id="search-movie-btn">
        <% if (content === 'undefined') {
          print('<h2>Oops! We are embarressed!</h2>');
          print('<h3>We could not retrieve movies for you at the moment.</h3>');
        } else {
          print(content);
        } %>
      </div>

      <div data-role="footer" data-position="fixed" class="center">
        <div data-role="controlgroup" data-type="horizontal">
          <a href="#" class="ui-btn">Movies</a>
          <a href="#search" class="ui-btn ui-btn-active">Search</a>
          <a href="#theaters" class="ui-btn">Theaters</a>
          <a href="#discover" class="ui-btn">Discover</a>
        </div>
      </div>
    </script>
    <!-- /Search Movies Template -->

    <!-- Theaters -->
    <script type="text/template" id="theaters">
      <div data-role="header" data-position="fixed">
        <h1>Theaters</h1>
      </div>

      <div role="main" class="ui-content" id="map-canvas">
        <!-- map loads here -->
      </div>

      <div data-role="footer" data-position="fixed" class="center">
        <div data-role="controlgroup" data-type="horizontal">
          <a href="#" class="ui-btn">Movies</a>
          <a href="#search" class="ui-btn">Search</a>
          <a href="#theaters" class="ui-btn ui-btn-active">Theaters</a>
          <a href="#discover" class="ui-btn">Discover</a>
        </div>
      </div>
    </script>
    <!-- /Theaters -->

    <!-- Discover -->
    <script type="text/template" id="discover">
      <div data-role="header" data-position="fixed">
        <h1>Discover</h1>
      </div>

      <div role="main" class="ui-content">
        <% if (content === 'undefined') {
          print('<h2>Looks like you have not liked any movies yet.</h2>');
          print('<h3>Please go ahead and add some of your favorites movies so we can provide you with recommendations.</h3>');
        } else {
          print(content);
        } %>
      </div>

      <div data-role="footer" data-position="fixed" class="center">
        <div data-role="controlgroup" data-type="horizontal">
          <a href="#" class="ui-btn">Movies</a>
          <a href="#search" class="ui-btn">Search</a>
          <a href="#theaters" class="ui-btn">Theaters</a>
          <a href="#discover" class="ui-btn ui-btn-active">Discover</a>
        </div>
      </div>
    </script>
    <!-- /Discover -->

    <!-- Movie Template -->
    <!-- Used as a list item in the HomeView list of movies -->
    <script type="text/template" id="movie-template">
      <a href="#movie/<%= id %>">
        <% if (poster_path != null) {
          print('<img src="http://image.tmdb.org/t/p/w500' + poster_path + '" class="center_thumbnail">');
        } else {
          print('<img src="https://lh6.ggpht.com/i0nISAaiMH2ENRyfy7tXbQqRCEAJj3oyvPYgHXoI10b5i9VkQztwHzRQjm9R5cHvQJY=w300" class="center_thumbnail">');
        } %>
        <h2><%= original_title %></h2>
        <p><b>Vote Average:</b> <%= vote_average %></p>
        <p><b>Release Date:</b> <%= release_date %></p>
      </a>
    </script>
    <!-- /Movie Template -->

    <!-- Person Details Page -->
    <script type="text/template" id="person-details-template">
      <div data-role="header" data-position="fixed">
        <a href="#" data-icon="back" class="back ui-btn-left">Back</a>
        <h1>Details</h1>
      </div>

      <div role="main" class="ui-content movie-details-content">
        <% if (content === 'undefined') {
          print('<br /><h2>Oops! We are embarressed!</h2>');
          print('<h3>We could not retrieve movies for you at the moment.</h3>');
        } else {
          print(content);
        } %>
      </div>
    </script>
    <!-- /Person Details Page -->

    <!-- Movie Details Page -->
    <!-- Used as the page to display details about a movie -->
    <script type="text/template" id="movie-details-template">
      <div data-role="header" data-position="fixed">
        <a href="#" data-icon="back" class="back ui-btn-left">Back</a>
        <h1>Details</h1>
      </div>

      <div role="main" class="ui-content movie-details-content">
        <% if (content === 'undefined') {
          print('<br /><h2>Oops! We are embarressed!</h2>');
          print('<h3>We could not retrieve movies for you at the moment.</h3>');
        } else {
          print(content);
        } %>
      </div>
    </script>
    <!-- /Movie Details Page -->

    <!-- Person Details Temlate -->
    <script type="text/template" id="show-person-details-template">
      <div class="card">
        <div class="ui-grid-a">
          <div class="ui-block-a">
            <h2 class="a-left"><%= name %></h2>
            <% if (birthday != null) { %>
              <p class="a-left"><b>Date of birth:</b></p>
              <p class="a-left"><%= birthday %></p>
            <% } %>
          </div>
          <div class="ui-block-b">
            <% if (profile_image != null) { %>
              <img src="http://image.tmdb.org/t/p/w500<%= profile_image %>" class="actor_image"/>
            <% } %>
          </div>
        </div>
        <% if (biography != null) { %>
          <p class="a-left"><b>Biography:</b></p>
          <p class="a-left"><%= biography %></p>
        <% } %>

      </div>

      <% if (movie_credits.cast.length > 0) { %>
        <div id="similar_movies">
          <p class="heading_card">Movies</p>
          <% _.each(movie_credits.cast, function(movie) {
              if (movie.poster_path != null) { %>
                <a href="#movie/<%= movie.id %>"><img src="http://image.tmdb.org/t/p/w500<%=movie.poster_path%>"
                  class="similar_poster"></img></a>
              <%}
            }); %>
        </div>
      <% } %>
    </script>
    <!-- /Person Details Template -->

    <!-- Movie Details Template -->
    <!-- Shows information about a specific movie -->
    <script type="text/template" id="show-movie-details-template">
      <div class="card">
        <div class="ui-grid-a">
          <div class="ui-block-a">
            <% if (poster != null) { %>
              <img src="http://image.tmdb.org/t/p/w500<%= poster %>" class="poster_image_movie_details" />
            <% } %>
          </div>
          <div class="ui-block-b" class="icon">
            <% if (is_favorite) { %>
              <a link="#" id="remove_from_fav"><img src="images/icons/heart_filled.png" class="heart_icon"/></a>
            <% } else { %>
              <a link="#" id="add_to_fav"><img src="images/icons/heart_empty.png" class="heart_icon" /></a>
            <% } %>
          </div>
        </div>
      </div>

      <div class="card">
        <h2><%= original_title %></h2>
        <hr>
        <p class="a-left"><b>Release Date:</b> <%= release_date %></p>
        <p class="a-left"><%= overview %></p>
        <p class="a-left"><b>Cast Members:</b></p>
        <% console.log(credits.cast); %>
        <div data-role="main" class="ui-content">
          <ul data-role="listview">
            <%
            _.each(credits.cast, function(member) { %>
                <li><a href="#person/<%= member.id %>"><%= member.name %></a></li>
            <% }); %>
          </ul>
        </div>
      </div>

      <% if (trailer_source !== 'undefined') {
        %>
        <div class="card">
          <p class="heading_card">Trailer</p>
          <iframe src="https://youtube.com/embed/<%= trailer_source %>" class="trailer"
            allowfullscreen></iframe>
        </div>
      <% } %>

      <% if (similar.total_results > 0) { %>
        <div id="similar_movies">
        <p class="heading_card">Similar Movies</p>
        <% _.each(similar.results, function(movie) {
            if (movie.poster_path != null) { %>
              <a href="#movie/<%= movie.id %>"><img src="http://image.tmdb.org/t/p/w500<%=movie.poster_path%>"
                class="similar_poster"></img></a>
            <%}
          }); %>
        </div>
      <% } %>
    </script>
    <!-- /Movie Details Template -->

    <script data-main="js/main" src="js/libs/require/require.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?v=3&key=AIzaSyAAjjxx_UnXEcBOQF2ngFZLq9N5GT_Cf_Q&sensor=false&libraries=places"></script>
  </head>
  <body>
  </body>
</html>
